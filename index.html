<!--
making MadLIBs
how do we show/hide? display. visibility
reference the core concept topics to assist you
22 innerHTML
25 events
26 removals
29 entering Text
23 change CSS
className=""
display vs visibility
28 enter key
focus() blur()
cursor pointer
preventing empty inputs
reseting the form to try again
-->

<!DOCTYPE html>
<html>

<head>
    <title>Sara Heidrich MadLib</title>
    <meta charset="UTF-8">
    <style media="screen">
        div {
            border: 1px solid #FFB81C;
            background-color: #0072CE;
        }

        .displayNone {
            display: none;
        }

        .displayBlock {
            display: block;
        }
        #warning { background-color: red;}
        
        .bgPink { background-color: pink;}
    </style>
</head>

<body>
    <div id="inputPanel">
        <h3>The Walmart Difference Ad</h3>
        <p>A Verb:
            <input id="question1" type="text" placeholder="question1">
        </p>
        <p>Where you will receive (Adjective):
            <input id="question2" type="text" placeholder="question2">
        </p>
        <p>Favorite brand name:
            <input id="question3" type="text" placeholder="question3">
        </p>
        <p>Type of Walmart employee:
            <input id="question4" type="text" placeholder="question4">
        </p>
        <p>Agressive Verb:
            <input id="question5" type="text" placeholder="question5">
        </p>
        <p>Number:
            <input id="question6" type="text" placeholder="question6">
        </p>
        <p>Here you will find (Adjective):
            <input id="question7" type="text" placeholder="question7">
        </p>
        <p>Noun (Plural):
            <input id="question8" type="text" placeholder="question8">
        </p>
        <p>For Mom (Noun):
            <input id="question9" type="text" placeholder="question9">
        </p>
        <p>For Kids (Noun):
            <input id="question10" type="text" placeholder="question10">
        </p>
        <p>Relative (Plural):
            <input id="question11" type="text" placeholder="question11">
        </p>
        <p>Adjective:
            <input id="question12" type="text" placeholder="question12">
        </p>
        <p>Noun (Plural):
            <input id="question13" type="text" placeholder="question13">
        </p>
        <button id="submit">Submit your answers</button> <!--assign css class to button: .displayNone & displayBlock. Reference W2>start.html-->
        <p id="warning">Please answer all questions.</p>

    </div>
    <div id="outputPanel">
        <p>Your story....</p>
        <p id="theStory"></p>
        <button id="again">Again?</button>
    </div>
    <script>
        const inputPanel = document.querySelector("#inputPanel");
        const outputPanel = document.querySelector("#outputPanel");
        const warning = document.querySelector("#warning");

        const submit = document.querySelector("#submit");
        submit.addEventListener("click", writeStory, false);
        submit.style.cursor = "pointer"

        const again = document.querySelector("#again");
        again.addEventListener("click", resetPage, false);
        again.style.cursor = "pointer"

        document.querySelector("#question1").focus();

        const question1 = document.querySelector("#question1");
        const question2 = document.querySelector("#question2");
        const question3 = document.querySelector("#question3");
        const question4 = document.querySelector("#question4");
        const question5 = document.querySelector("#question5");
        const question6 = document.querySelector("#question6");
        const question7 = document.querySelector("#question7");
        const question8 = document.querySelector("#question8");
        const question9 = document.querySelector("#question9");
        const question10 = document.querySelector("#question10");
        const question11 = document.querySelector("#question11");
        const question12 = document.querySelector("#question12");
        const question13 = document.querySelector("#question13");
        const theStory = document.querySelector("#theStory");

        window.addEventListener("keydown", keydownHandler, false);
        
        inputPanel.className = "displayBlock"
        outputPanel.className = "displayNone"
        warning.className = "displayNone"
        
        question1.focus()

        function keydownHandler(event) {
            console.log("Enter key pressed");
            if (event.keyCode == 13) {
                //ascii keycode
                console.log ("Enter key pressed");
                writeStory()
            }

        }

        function checkComplete() {
            //verify the user filled in the form
            question1.classList.remove('bgPink')
            question2.classList.remove('bgPink')
            question3.classList.remove('bgPink')
            question4.classList.remove('bgPink')
            question5.classList.remove('bgPink')
            question6.classList.remove('bgPink')
            question7.classList.remove('bgPink')
            question8.classList.remove('bgPink')
            question9.classList.remove('bgPink')
            question10.classList.remove('bgPink')
            question11.classList.remove('bgPink')
            question12.classList.remove('bgPink')
            question13.classList.remove('bgPink')
            
            if (question1.value == "") {
                question1.className = "bgPink"
            }
            if (question2.value == "") {
                question2.className = "bgPink"
            }
            if (question3.value == "") {
                question3.className = "bgPink"
            }
            if (question4.value == "") {
                question4.className = "bgPink"
            }
            if (question5.value == "") {
                question5.className = "bgPink"
            }
            if (question6.value == "") {
                question6.className = "bgPink"
            }
            if (question7.value == "") {
                question7.className = "bgPink"
            }
            if (question8.value == "") {
                question8.className = "bgPink"
            }
            if (question9.value == "") {
                question9.className = "bgPink"
            }
            if (question10.value == "") {
                question10.className = "bgPink"
            }
            if (question11.value == "") {
                question11.className = "bgPink"
            }
            if (question12.value == "") {
                question12.className = "bgPink"
            }
            if (question13.value == "") {
                question13.className = "bgPink"
            } else {
                return true
            }
        }



        function writeStory() {
            //grab the input values to write the story
            if (checkComplete()==false){
                return
            }
            let story = "Come "
            story += question1.value
            story += " at Walmart, where you'll recieve " + question2.value + " discounts on all your favorite brand name " + question3.value + "."
            story += " Our " + question4.value + " associates are there to " + question5.value + " you " + question6.value + " hours a day."
            story += " Here you will find " + question7.value + " prices on the " + question8.value + " you need. "
            story += question9.value + " for the moms, " + question10.value + " for the kids and all the latest electronics for "
            story += question11.value + "."
            story += " So come down to your " + question12.value + " Walmart, where the " + question13.value + " comes first."
            theStory.innerHTML = story 
            
            inputPanel.className = "displayNone"
            outputPanel.className = "displayBlock"
            warning.className = "displayNone"
        }

        function resetPage() {
            //put stuff here to reset the page so the user can try again
            inputPanel.className = "displayBlock"
            outputPanel.className = "displayNone"
            warning.className = "displayNone"
            
            question1.value = ""
            question2.value = ""
            question3.value = ""
            question4.value = ""
            question5.value = ""
            question6.value = ""
            question7.value = ""
            question8.value = ""
            question9.value = ""
            question10.value = ""
            question11.value = ""
            question12.value = ""
            question13.value = ""
            
            question1.classList.remove('bgPink')
            question2.classList.remove('bgPink')
            question3.classList.remove('bgPink')
            question4.classList.remove('bgPink')
            question5.classList.remove('bgPink')
            question6.classList.remove('bgPink')
            question7.classList.remove('bgPink')
            question8.classList.remove('bgPink')
            question9.classList.remove('bgPink')
            question10.classList.remove('bgPink')
            question11.classList.remove('bgPink')
            question12.classList.remove('bgPink')
            question13.classList.remove('bgPink')
            theStory.innerHTML = ""
            
            question1.focus()
        }
    </script>
</body>

</html>
